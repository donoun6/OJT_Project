<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <!--  초기화,고정 css  -->
    <link rel="stylesheet" href="/css/global/init.css">
    <link rel="stylesheet" href="/css/global/default.css">
    <!--  커스텀 css  -->
    <link rel="stylesheet" href="/css/admin/admin.css">
    <link rel="stylesheet" href="/css/admin/main/section.css">
    <!--  svg link  -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <!--  jquey cdn  -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <!--  script  -->
    <script src="/js/common.js"></script>
    <script src="/js/admin/aside.js"></script>
    <script src="/js/admin/main/section.js"></script>
    <title>admin</title>

</head>
<body>
<!--  aside area  -->
<aside>
    <th:block th:replace="admin/common/aside.html"></th:block>
</aside>
<!--  aside slide button  -->
<div class="arrow-back-ios">
    <span class="material-symbols-outlined" style="position: absolute; left: 30%;">arrow_back_ios</span>
</div>
<div class="arrow-forward-ios">
    <span class="material-symbols-outlined">arrow_forward_ios</span>
</div>
<!--    main area    -->
<main>
    <div id="main-wrap">
        <section id="section1" class="section">
            <div class="rank-box">
                <h1>Rank</h1>
                <!--        <select>-->
                <!--            <option selected>판매순</option>-->
                <!--            <option>금액순</option>-->
                <!--        </select>-->
                <table>
                    <thead>
                    <tr>
                        <th>Rank</th>
                        <th>img</th>
                        <th>product</th>
                        <th>sell quantity</th>
                        <th>total price</th>
                    </tr>
                    </thead>
                    <tbody>
                    <th:block th:each="sellingRankList : ${sellingRankList}">
                        <tr>
                            <td th:text="${sellingRankListStat.count}"></td>
                            <td style="text-align: center"><img style="width: 50px; height: 50px"
                                                                th:src="@{${sellingRankList.getProduct().getImage()}}"
                                                                class="gallery"></td>
                            <td th:text="${sellingRankList.getProduct().getName()}"></td>
                            <td th:text="${sellingRankList.getQuantity()} + EA"></td>
                            <td th:text="${#numbers.formatInteger(sellingRankList.getTotalPrice(), 3, 'COMMA') + '원'}" }></td>
                        </tr>
                    </th:block>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="section2" class="section">
            <div class="order-selling-box">
                <h1>Sell</h1>
                <h2 th:text="'order : ' + ${orderCount} + '건 &nbsp&nbsp&nbsp&nbsp&nbsp sell price : ' + ${#numbers.formatInteger(todayTotalPrice.getTotalPrice(), 3, 'COMMA') + '원'}" }></h2>
                <table>
                    <thead>
                    <tr>
                        <th>no</th>
                        <th>order number</th>
                        <th>quantity</th>
                        <th>price</th>
                        <th>register date</th>
                    </tr>
                    </thead>
                    <tbody>
                    <th:block th:each="todayOrderList : ${todayOrderList}">
                        <tr>
                            <td th:text="${todayOrderListStat.count}"></td>
                            <td th:text="${todayOrderList.getOrdersId()}"></td>
                            <td th:text="${todayOrderList.getSelling().getQuantity()} + EA"></td>
                            <td th:text="${#numbers.formatInteger(todayOrderList.getSelling().getTotalPrice(), 3, 'COMMA') + '원'}" }></td>
                            <td th:text="${#dates.format(todayOrderList.getRegisterDate(),'yyyy.MM.dd HH:mm:ss')}"></td>
                        </tr>
                    </th:block>
                    </tbody>
                </table>
            </div>
        </section>
        <section id="section3" class="section">
            <div id="piechart" style="width: 100%; height: 100%; position: absolute; margin-left: 15%;"></div>
        </section>
        <section id="section4" class="section">
            <div id="chart_div1" style="width: 100%; height: 50%; position: absolute; top: 0"></div>
            <div id="chart_div2" style="width: 100%; height: 50%; position: absolute; bottom: 0"></div>
        </section>
    </div>
    <div class="alarm-box">
        <span class="material-symbols-outlined">alarm_smart_wake</span>
    </div>
</main>
<!--  google chart area -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', {'packages': ['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

        var data = google.visualization.arrayToDataTable([
            ['Task', 'Hours per Day'],
            ['Work', 11],
            ['Eat', 2],
            ['Commute', 2],
            ['Watch TV', 2],
            ['Sleep', 7]
        ]);

        var options = {
            title: 'sell_rank',
            backgroundColor: "F3F1F5"
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
    }

    google.charts.setOnLoadCallback(drawVisualization);

    function drawVisualization() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
            ['Month', 'Bolivia', 'Ecuador', 'Madagascar', 'Papua New Guinea', 'Rwanda', 'Average'],
            ['2004/05', 165, 938, 522, 998, 450, 614.6],
            ['2005/06', 135, 1120, 599, 1268, 288, 682],
            ['2006/07', 157, 1167, 587, 807, 397, 623],
            ['2007/08', 139, 1110, 615, 968, 215, 609.4],
            ['2008/09', 136, 691, 629, 1026, 366, 569.6]
        ]);

        var options = {
            title: 'Monthly sales',
            vAxis: {title: 'price'},
            hAxis: {title: 'Month'},
            seriesType: 'bars',
            series: {2: {type: 'line'}},
            backgroundColor: "F3F1F5"
        };

        var chart = new google.visualization.ComboChart(document.getElementById('chart_div1'));
        chart.draw(data, options);
    }

    google.charts.setOnLoadCallback(drawVisualization2);

    function drawVisualization2() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
            ['Month', 'Bolivia', 'Average'],
            ['2004/05', 165, 56],
            ['2004/05', 57, 100],
            ['2004/05', 123, 32],
            ['2004/05', 55, 78],
            ['2004/05', 66, 66],
            ['2004/05', 170, 150],
            ['2004/05', 122, 100],
            ['2004/05', 165, 100],
            ['2005/06', 135, 42],
            ['2006/07', 157, 57],
            ['2007/08', 139, 200],
            ['2008/09', 136, 150]
        ]);

        var options = {
            title: 'Weekly sales',
            vAxis: {title: 'price'},
            hAxis: {title: 'week'},
            seriesType: 'bars',
            series: {1: {type: 'line'}},
            backgroundColor: "F3F1F5"
        };

        var chart = new google.visualization.ComboChart(document.getElementById('chart_div2'));
        chart.draw(data, options);
    }
</script>
</body>
</html>